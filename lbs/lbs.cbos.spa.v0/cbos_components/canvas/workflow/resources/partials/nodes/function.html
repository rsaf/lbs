<div ng-controller="canvasFunctionController">

    <div class="form-group">
        <label  for="functionName" class="control-label col-sm-3">Node Name:</label>
        <div class="col-sm-9">
            <input type="text" class="form-control" id="functionName">
        </div>
    </div>
    <div class="container-fluid cbos-gray-border cbos-padding-top-20">

        <div class="form-group">
            <label  for="EmailSource" class="control-label col-sm-3">Expression:</label>

            <div class=" col-sm-9" >


                <div class="row" >

                    <div class="bhc-row-sm-height">

                        <div class="col-sm-6 bhc-col-sm-height bhc-col-sm-top  bhc-xs-margin-bottom-20 cbos-relative" >
                            <div class="clearfix"></div>
                            <div class="bhc-inside text-center cbos-relative">

                                    <textarea class="form-control " rows="5"></textarea>

                                    <div class="cbos-aboslute" style="top: -30px; right: 0">

                                        <div data-toggle="tooltip" data-placement="bottom" title="{{expandOrcollapase}}" class=" cbos-padding-5 cbos-pointer" ng-click="functionIsCollapsed = !functionIsCollapsed; expandOrcollapase = (expandOrcollapase=='Expand')?'Collapse':'Expand';"> <div ng-class={'glyphicon-menu-right':expandOrcollapase=='Expand','glyphicon-menu-left':expandOrcollapase=='Collapse'} class="pull-left glyphicon  cbos-blue" style="font-size:1em; "></div><div class="cbos-blue pull-left" ng-if="expandOrcollapase=='Collapse'" style="line-height: 16px; font-size: 1em; ">Add Variables</div><div class="cbos-blue pull-left" ng-if="expandOrcollapase=='Expand'" style="line-height: 16px; font-size: 1em; ">Expand</div></div>
                                    </div>
                            </div>
                        </div>
                        <div class="col-sm-6 bhc-col-sm-height" collapse-width="!functionIsCollapsed">
                            <div class="bhc-inside">

                                <div style="overflow: hidden;">
                                    <div>

                                        <select class="form-control input-sm">
                                            <option>Product</option>
                                            <option>Product</option>

                                        </select>
                                    </div>

                                    <div>
                                        <select class="form-control input-sm cbos-margin-top-5">
                                            <option>Quantity</option>
                                            <option>Quantity</option>

                                        </select>

                                    </div>

                                    <div>
                                        <button class="btn cbos-btn-xs cbos-btn cbos-btn-gray cbos-full-width cbos-margin-top-10" ng-click="functionIsCollapsed = !functionIsCollapsed; expandOrcollapase = (expandOrcollapase=='Expand')?'Collapse':'Expand';">ok</button>
                                    </div>

                                </div>

                            </div>

                        </div>
                    </div>
                </div>

            </div>






        </div>






        <div class="cbos-tree-view-widget-box" >

            <!-- Nested node template -->
            <script type="text/ng-template" id="nodes_renderer.html">
                <div ui-tree-handle class="tree-node tree-node-content">
                    <a  ng-if="node.nodes && node.nodes.length > 0" data-nodrag ng-click="toggle(this)"><span
                            class=" cbos-gray-border cbos-gray glyphicon"
                            ng-class="{'glyphicon-plus': collapsed,'glyphicon-minus': !collapsed }"></span></a>
                    {{node.title}}
                    <a class="pull-right cbos-gray-border btn-xs" data-nodrag ng-click="remove(this)"><span
                            class="glyphicon glyphicon-trash"></span></a>
                    <a class="pull-right cbos-gray-border btn-xs" data-nodrag ng-click="newSubItem(this)" style="margin-right: 8px;"><span
                            class="glyphicon glyphicon-cog"></span></a>
                </div>
                <ol ui-tree-nodes="" ng-model="node.nodes" ng-class="{hidden: collapsed}">
                    <li ng-repeat="node in node.nodes" ui-tree-node   ng-include="'nodes_renderer.html'">
                    </li>
                </ol>
            </script>


            <div class="row">
                <div class="col-sm-12">
                    <div ui-tree id="tree-root">
                        <ol ui-tree-nodes ng-model="configTreeData" >
                            <li ng-repeat="node in configTreeData" ui-tree-node collapsed="true" ng-include="'nodes_renderer.html'"></li>
                        </ol>
                    </div>
                </div>

            </div>

        </div>

    </div>
</div>































