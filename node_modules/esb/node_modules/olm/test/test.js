/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */

var oOLM = require('../olm_Interface.js');
var httpRequest = require('request');
var hostAddress = 'http://localhost';


exports.testReadOperationsLogs = function(test) {
  var m = {
  "op": "readOperationsLog",
  "pl": {"userAccountID": "5433c1a0e78641b2346c7508", "opType":"业务操作", "pageNumber":null, "pageSize":null}
  };
    oOLM.readOperationsLog(m)
    .then(function(r){
        console.log('Json Return ' + r.pl );
        test.expect(3);
        test.equals(null, null);
        test.equals(m.pl.userAccountID, r.pl[0].userAccountID);
        test.equals(true, true);
        test.done();
    })
    .fail(function(r){
      console.log(r.er)
    });
};


exports.testReadLogByID = function(test) {
     var m = {
       "op": "readOperationsLogByID",
        "pl": {"logID":"5444f27dabbfc07f0384d121"}
      };
      console.log(m.pl.logID);
     oOLM.readOperationsLogByID(m)
     .then(function(r) {
        console.log('Json Return ' + r.pl );
        test.expect(2);
        test.equals(null, null);
        //test.equals(paramUserAccountID, paramLogsJson[0].userAccountID);
        test.equals(true, true);
        test.done();
    })
    .fail(function(r){
      console.log(r.er)
    });
};


exports.testlogRequest = function(test) {
    httpRequest.get(hostAddress + '/v1/operationlogs/23345.json', function(paramError, paramResponse, paramBody) {
         console.log(paramBody.toString());
        test.expect(2);
        test.equals(paramError, null);
        test.equals(paramResponse.statusCode, 200);
        test.done();
    });
};
