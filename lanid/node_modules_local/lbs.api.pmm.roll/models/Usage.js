/**
 * Created by LBS006 on 12/16/14.
 */
var lib = require("lib");

module.exports = function (paramMongoose){
    var usageSchema = new paramMongoose.Schema({
        s : lib.permissionsSchema({all:"r"}),
        ct: { //creator
            uID: {type:paramMongoose.Schema.Types.ObjectId,required:true},//id of the user who created the service
            oID: {type:paramMongoose.Schema.Types.ObjectId,required:true},//organisation id
            cd: {type: Date, required:true}//creation date
        },
        md: {//modified
            uID: {type:paramMongoose.Schema.Types.ObjectId,required:true},//id of user who changed the service
            oID: {type:paramMongoose.Schema.Types.ObjectId,required:true},//organisation id
            lu: {type:Date,required:true}//last updated date
        },
        un: String, //usage name
        uc: String,  //usage code
        sd: [{type:paramMongoose.Schema.Types.ObjectId, ref: 'standards'}],  //lookup to standards
        rm: String //remarks
    });
    return usageSchema;
};