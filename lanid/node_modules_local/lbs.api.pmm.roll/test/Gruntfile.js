//for this to work your test/node_modules/mongodb (no mongoose)

module.exports = function(grunt) {

    // Project configuration.
    grunt.initConfig({
        pkg: grunt.file.readJSON('package.json'),
        nodeunit: {
            integration: ['*test.js']//names of the test files
            , unit: ['unit-test*.js']
        },
        watch: {
            integration: {
                files: ['../*.js','**/test*.js','../models/**/*.js','../test/fixtures/*.js'],//you can add the pmm_Interface with '../pmm_Interface.js'
                tasks: ['integrationtest']
            }
        }
    });
    //you can change this to drop and create the collection

    grunt.registerTask('integrationtest','Runs the integration tests.',function(){
        grunt.task.run('nodeunit:integration');
    });
    // Load the plugin that provides the "nodeunit" task.
    grunt.loadNpmTasks('grunt-contrib-nodeunit');
    // Load the plugin that provides the "watch" task.
    grunt.loadNpmTasks('grunt-contrib-watch');
    // Default task(s).
    grunt.registerTask('default', ['integrationtest']);
};